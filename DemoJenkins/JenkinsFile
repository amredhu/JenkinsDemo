pipeline{
	agent any
		stages{
			stage('BUILD'){
				steps{
					dir('DemoJenkins'){
						bat 'mvn clean install'
					}
						
				}
			}
			stage('Testing Stage'){
				steps{
					dir('DemoJenkins'){
						bat 'mvn test'
					}
				}
			}
			stage('SonarQube Analysis'){
				steps{
					dir('DemoJenkins'){
						withSonarQubeEnv('SonarQube'){
							bat 'mvn org.sonarsource.scanner.maven:sonar-maven-plugin:3.3.0.603:sonar'
						}
					}
				}
			}
			stage('Deploy'){
				steps{
					dir('DemoJenkins'){
						bat 'mvn deploy'
					}
				}
			}
		}
	
}