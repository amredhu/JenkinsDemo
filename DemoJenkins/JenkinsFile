pipeline{
	
	agent any
		stages{
			stage('BUILD'){
				steps{
					dir('DemoJenkins'){
						bat 'mvn clean install'
					}
						
				}
			}
			stage('Testing Stage'){
				steps{
					dir('DemoJenkins'){
						bat 'mvn test'
					}
				}
			}
			/*
			stage('SonarQube Analysis'){
				steps{
					dir('DemoJenkins'){
						withSonarQubeEnv('SonarQube'){
							bat 'mvn org.sonarsource.scanner.maven:sonar-maven-plugin:3.3.0.603:sonar'
						}
					}
				}
			}
			*/
			stage('Deploy'){
				steps{
					dir('DemoJenkins'){
						bat "copy target\\DemoJenkins*.war "C:\Users\aredhu\Documents\apache-tomcat-9.0.26-windows-x64\apache-tomcat-9.0.26\webapps\DemoJenkins.war"
					}
				}
			}
		}
	
}